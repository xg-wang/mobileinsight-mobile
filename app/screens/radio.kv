

<RadioScreen>:
    name: 'radio'
    MDTabbedPanel:
        id: tab_panel
        tab_display_mode:'text'
        MDTab:
            name: 'data'
            text: 'Data'
            ScrollView:
                do_scroll_x: False
                BoxLayout:
                    orientation:'vertical'
                    size_hint_y: None
                    # height: dp(310)
                    height: dp(350)
                    MDLabel:
                        text: 'Link Capacity: 23'
                        theme_text_color: 'Primary'
                        font_style:"Body2"
                        size_hint_y: None
                        halign: 'center'
                    MDSeparator:
                        height: dp(1)
                    MDLabel:
                        text: 'Signal Strength'
                        theme_text_color: 'Primary'
                        font_style:"Body2"
                        size_hint_y: None
                        halign: 'center'
                    BoxLayout:
                        size_hint_y: None
                        height: dp(70)
                        BoxLayout:
                            orientation: 'vertical'
                            MDLabel:
                                text: 'RSSI'
                                theme_text_color: 'Primary'
                                font_style:"Caption"
                                size_hint_y: None
                                halign: 'center'
                                height: dp(25)
                            MDProgressBar:
                                value: root.rssi
                                halign: 'center'
                                rgbr: '0000FF'
                            MDLabel:
                                #text: '45dbm'
                                text: str(root.rssi)+'dbm'
                                theme_text_color: 'Primary'
                                font_style:"Body2"
                                size_hint_y: None
                                halign: 'center'
                                height: dp(10)
                        BoxLayout:
                            orientation: 'vertical'
                            MDLabel:
                                text: 'RSRP'
                                theme_text_color: 'Primary'
                                font_style:"Caption"
                                size_hint_y: None
                                halign: 'center'
                                height: dp(25)
                            MDProgressBar:
                                value: root.rsrp
                                halign: 'center'
                                rgbr: '0000FF'
                            MDLabel:
                                #text: '-74dbm'
                                text: str(root.rsrp)+'dbm'
                                theme_text_color: 'Primary'
                                font_style:"Body2"
                                size_hint_y: None
                                halign: 'center'
                                height: dp(10)
                        BoxLayout:
                            orientation: 'vertical'
                            MDLabel:
                                text: 'RSRQ'
                                theme_text_color: 'Primary'
                                font_style:"Caption"
                                size_hint_y: None
                                halign: 'center'
                                height: dp(25)
                            MDProgressBar:
                                value: root.rsrq
                                halign: 'center'
                                rgbr: '0000FF'
                            MDLabel:
                                #text: '-4'
                                #ADD rsrq value
                                text: str(root.rsrq)
                                theme_text_color: 'Primary'
                                font_style:"Body2"
                                size_hint_y: None
                                halign: 'center'
                                height: dp(10)
                    BoxLayout:
                        size_hint_y: None
                        MDLabel:
                            text: 'RSCP'
                            theme_text_color: 'Primary'
                            font_style:"Caption"
                            size_hint_y: None
                            halign: 'center'
                            height: self.texture_size[1] + dp(30)
                        MDLabel:
                            text: 'EcNOc'
                            theme_text_color: 'Primary'
                            font_style:"Caption"
                            size_hint_y: None
                            halign: 'center'
                            height: self.texture_size[1] + dp(30)
                    # BoxLayout:
                    #     size_hint_y: None
                    #     MDProgressBar:
                    #         value:10
                    #         halign: 'center'
                    #         rgbr: '0000FF'

                    #     MDProgressBar:
                    #         value:90
                    #         halign: 'center'
                    #         rgbr: '0000FF'

                    MDSeparator:
                        height: dp(1)

                    MDChart:
                        current:root.rsrq
                    BoxLayout:
                        size_hint_y: None
                        MDLabel:
                            text: 'RSRQ'
                            theme_text_color: 'Primary'
                            font_style:"Caption"
                            size_hint_y: None
                            halign: 'center'
                            height: self.texture_size[1] - dp(10)
                    # MDLabel:
                    #     text: 'Power Meas'
                    #     theme_text_color: 'Primary'
                    #     font_style:"Body2"
                    #     size_hint_y: None
                    #     halign: 'center'
                    # MDSeparator:
                    #     height: dp(1)
                    # MDLabel:
                    #     text: 'Modulation Coding Scheme'
                    #     theme_text_color: 'Primary'
                    #     font_style:"Body2"
                    #     size_hint_y: None
                    #     halign: 'center'
                    # MDSeparator:
                    #     height: dp(1)
                    # MDLabel:
                    #     text: 'Channel Quality'
                    #     theme_text_color: 'Primary'
                    #     font_style:"Body2"
                    #     size_hint_y: None
                    #     halign: 'center'
                    # MDSeparator:
                    #     height: dp(1)
                    # MDLabel:
                    #     text: 'Radio Configurations'
                    #     theme_text_color: 'Primary'
                    #     font_style:"Body2"
                    #     size_hint_y: None
                    #     halign: 'center'
                    # MDSeparator:
                    #     height: dp(1)

        # Display the lat and lon of the current location
        MDTab:
            name: 'map'
            text: 'Map'

            MapView:
                id: mapview
                lat: app.location[0]
                lon: app.location[1]
                zoom: 16
                #size_hint: .5, .5
                #pos_hint: {"x": .25, "y": .25}

                #on_map_relocated: mapview2.sync_to(self)
                #on_map_relocated: mapview3.sync_to(self)

                MapMarker:
                    lat: app.location[0]
                    lon: app.location[1]

            Toolbar:
                id: maptoolbar
                md_bg_color: app.theme_cls.primary_color
                background_palette: 'Primary'
                background_hue: '500'
                title: 'None'

                MDLabel:
                    text: "Longitude: {}".format(app.location[1])
                    theme_text_color: 'Primary'
                    font_style:"Body2"
                    height: self.texture_size[1] + dp(40)
                MDLabel:
                    text: "Latitude: {}".format(app.location[0])
                    theme_text_color: 'Primary'
                    font_style:"Body2"
                    height: self.texture_size[1] + dp(40)
